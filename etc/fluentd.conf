<source>
  @type tail
  @id in_tail_container_logs
  path "/var/log/*.log"
  tag "ninja.*"
  read_from_head true
  <parse>
    @type "json"
    time_format "%Y-%m-%dT%H:%M:%S.%NZ"
    time_type string
  </parse>
</source>

# Uncomment 1
# <match ninja.var.log.kong**>
#   @type rewrite_tag_filter
#   <rule>
#     key log
#     pattern /HTTP/
#     tag access.log.${tag}
#   </rule>
#   <rule>
#     key log
#     pattern .*
#     tag app.log.${tag}
#   </rule>
# </match>

# Uncomment 2
# <filter access.log.ninja.var.log.kong.log>
#   @type parser
#   key_name log
#   <parse>
#     @type nginx
#   </parse>
# </filter>

<match **>
  @type file
  path /output/example
  append true
  <buffer>
    timekey 1d
    timekey_use_utc true
    timekey_wait 1m
  </buffer>
</match>

